<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="genindex.html" /><link rel="search" title="搜索" href="search.html" /><link rel="next" title="data_juicer.core.data package" href="data_juicer.core.data.html" /><link rel="prev" title="API Reference" href="api.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>data_juicer.core package - data-juicer</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/sidebar-menu.css?v=dcc41d8a" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    


    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index_ZH.html"><div class="brand">data-juicer</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index_ZH.html">
  
  
  <span class="sidebar-brand-text">data-juicer</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">教程</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docs/tutorial/DJ-Cookbook_ZH.html">DJ-Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/tutorial/Installation_ZH.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/tutorial/QuickStart_ZH.html">快速上手</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">帮助文档</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docs/Operators.html">Operator Schemas 算子提要</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/RecipeGallery_ZH.html">数据菜谱Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/DatasetCfg_ZH.html">数据集配置指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/BadDataExhibition_ZH.html">“坏”数据展览</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/DJ_SORA_ZH.html">DJ-SORA</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/DJ_service_ZH.html">API服务化</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/DeveloperGuide_ZH.html">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/Distributed_ZH.html">Data-Juicer 分布式数据处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/Sandbox_ZH.html">沙盒实验室</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/awesome_llm_data.html">Awesome Data-Model Co-Development of MLLMs </a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">demos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="demos/README_ZH.html">演示</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos/auto_evaluation_helm/README_ZH.html">自动化评测：HELM 评测及可视化</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos/role_playing_system_prompt/README_ZH.html">为LLM构造角色扮演的system prompt</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工具</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tools/distributed_deduplication/README_ZH.html">分布式模糊去重工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/evaluator/README_ZH.html">Auto Evaluation Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/evaluator/gpt_eval/README_ZH.html">GPT EVAL：使用 OpenAI API 评测大模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/evaluator/recorder/README_ZH.html">Evaluation Results Recorder</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/fmt_conversion/README_ZH.html">格式转换工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/fmt_conversion/multimodal/README_ZH.html">多模态工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/fmt_conversion/post_tuning_dialog/README_ZH.html">后微调工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/hpo/README_ZH.html">数据菜谱的自动化超参优化</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/humanops/README.html">Label Studio Service Utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/mm_eval/inception_metrics/README_ZH.html">视频生成测评工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/postprocess/README_ZH.html">Postprocess tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/preprocess/README_ZH.html">预处理工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/quality_classifier/README_ZH.html">给数据打分</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">第三方</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="thirdparty/LLM_ecosystems/README_ZH.html">大语言模型生态</a></li>
<li class="toctree-l1"><a class="reference internal" href="thirdparty/models/README_ZH.html">第三方模型库</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="api.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">data_juicer.core package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of data_juicer.core package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html">data_juicer.core.data package</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html">data_juicer.core.executor package</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="data_juicer.ops.html">data_juicer.ops package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of data_juicer.ops package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.ops.aggregator.html">data_juicer.ops.aggregator package</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.ops.common.html">data_juicer.ops.common package</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.ops.deduplicator.html">data_juicer.ops.deduplicator package</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.ops.filter.html">data_juicer.ops.filter package</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.ops.grouper.html">data_juicer.ops.grouper package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="data_juicer.ops.mapper.html">data_juicer.ops.mapper package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of data_juicer.ops.mapper package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.ops.mapper.annotation.html">data_juicer.ops.mapper.annotation package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.ops.selector.html">data_juicer.ops.selector package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.ops.filter.html">data_juicer.ops.filter package</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="data_juicer.ops.mapper.html">data_juicer.ops.mapper package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of data_juicer.ops.mapper package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.ops.mapper.annotation.html">data_juicer.ops.mapper.annotation package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.ops.deduplicator.html">data_juicer.ops.deduplicator package</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.ops.selector.html">data_juicer.ops.selector package</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.ops.common.html">data_juicer.ops.common package</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.analysis.html">data_juicer.analysis package</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.config.html">data_juicer.config package</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.format.html">data_juicer.format package</a></li>
</ul>
</li>
</ul>

</div></div><div class="sidebar-bottom-menu">
    <div class="current-info">
        <span class="current-lang">zh-CN</span>|<span class="current-version">main</span>
    </div>
    <div class="dropdown-panel">
        
        <div class="section">
            <dt>Language</dt>
            <dd>
                
                <a href="./../../en/main/data_juicer.core.html"
                    >
                    English
                </a>
                
                <a href="./../../zh_CN/main/data_juicer.core_ZH.html"
                    >
                    简体中文
                </a>
                
            </dd>
        </div>
        

        
        <div class="section">
            <dt>Version</dt>
            <dd>
                    <a href="data_juicer.core.html">main</a>
            </dd>
        </div>
        
    </div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/data_juicer.core.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="data-juicer-core-package">
<h1>data_juicer.core package<a class="headerlink" href="#data-juicer-core-package" title="Link to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_juicer.core.data.html">data_juicer.core.data package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#module-data_juicer.core.data.config_validator">data_juicer.core.data.config_validator module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.config_validator.ConfigValidationError"><code class="docutils literal notranslate"><span class="pre">ConfigValidationError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.config_validator.ConfigValidator"><code class="docutils literal notranslate"><span class="pre">ConfigValidator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.config_validator.ConfigValidator.CONFIG_VALIDATION_RULES"><code class="docutils literal notranslate"><span class="pre">ConfigValidator.CONFIG_VALIDATION_RULES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.config_validator.ConfigValidator.validate_config"><code class="docutils literal notranslate"><span class="pre">ConfigValidator.validate_config()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#module-data_juicer.core.data.data_validator">data_juicer.core.data.data_validator module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataValidator"><code class="docutils literal notranslate"><span class="pre">DataValidator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataValidator.__init__"><code class="docutils literal notranslate"><span class="pre">DataValidator.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataValidator.validate"><code class="docutils literal notranslate"><span class="pre">DataValidator.validate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataValidationError"><code class="docutils literal notranslate"><span class="pre">DataValidationError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataValidatorRegistry"><code class="docutils literal notranslate"><span class="pre">DataValidatorRegistry</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataValidatorRegistry.register"><code class="docutils literal notranslate"><span class="pre">DataValidatorRegistry.register()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataValidatorRegistry.get_validator"><code class="docutils literal notranslate"><span class="pre">DataValidatorRegistry.get_validator()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.BaseConversationValidator"><code class="docutils literal notranslate"><span class="pre">BaseConversationValidator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.BaseConversationValidator.__init__"><code class="docutils literal notranslate"><span class="pre">BaseConversationValidator.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.BaseConversationValidator.validate"><code class="docutils literal notranslate"><span class="pre">BaseConversationValidator.validate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.BaseConversationValidator.validate_conversation"><code class="docutils literal notranslate"><span class="pre">BaseConversationValidator.validate_conversation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.SwiftMessagesValidator"><code class="docutils literal notranslate"><span class="pre">SwiftMessagesValidator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.SwiftMessagesValidator.validate_conversation"><code class="docutils literal notranslate"><span class="pre">SwiftMessagesValidator.validate_conversation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataJuicerFormatValidator"><code class="docutils literal notranslate"><span class="pre">DataJuicerFormatValidator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.DataJuicerFormatValidator.validate_conversation"><code class="docutils literal notranslate"><span class="pre">DataJuicerFormatValidator.validate_conversation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.CodeDataValidator"><code class="docutils literal notranslate"><span class="pre">CodeDataValidator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.CodeDataValidator.__init__"><code class="docutils literal notranslate"><span class="pre">CodeDataValidator.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.CodeDataValidator.validate"><code class="docutils literal notranslate"><span class="pre">CodeDataValidator.validate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.RequiredFieldsValidator"><code class="docutils literal notranslate"><span class="pre">RequiredFieldsValidator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.RequiredFieldsValidator.__init__"><code class="docutils literal notranslate"><span class="pre">RequiredFieldsValidator.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.data_validator.RequiredFieldsValidator.validate"><code class="docutils literal notranslate"><span class="pre">RequiredFieldsValidator.validate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#module-data_juicer.core.data.dataset_builder">data_juicer.core.data.dataset_builder module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dataset_builder.DatasetBuilder"><code class="docutils literal notranslate"><span class="pre">DatasetBuilder</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dataset_builder.DatasetBuilder.__init__"><code class="docutils literal notranslate"><span class="pre">DatasetBuilder.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dataset_builder.DatasetBuilder.load_dataset"><code class="docutils literal notranslate"><span class="pre">DatasetBuilder.load_dataset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dataset_builder.DatasetBuilder.load_dataset_by_generated_config"><code class="docutils literal notranslate"><span class="pre">DatasetBuilder.load_dataset_by_generated_config()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dataset_builder.rewrite_cli_datapath"><code class="docutils literal notranslate"><span class="pre">rewrite_cli_datapath()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dataset_builder.parse_cli_datapath"><code class="docutils literal notranslate"><span class="pre">parse_cli_datapath()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dataset_builder.get_sample_numbers"><code class="docutils literal notranslate"><span class="pre">get_sample_numbers()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#module-data_juicer.core.data.dj_dataset">data_juicer.core.data.dj_dataset module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.DJDataset"><code class="docutils literal notranslate"><span class="pre">DJDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.DJDataset.process"><code class="docutils literal notranslate"><span class="pre">DJDataset.process()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.DJDataset.schema"><code class="docutils literal notranslate"><span class="pre">DJDataset.schema()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.DJDataset.get"><code class="docutils literal notranslate"><span class="pre">DJDataset.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.DJDataset.get_column"><code class="docutils literal notranslate"><span class="pre">DJDataset.get_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.DJDataset.to_list"><code class="docutils literal notranslate"><span class="pre">DJDataset.to_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.DJDataset.contain_column"><code class="docutils literal notranslate"><span class="pre">DJDataset.contain_column()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.wrap_func_with_nested_access"><code class="docutils literal notranslate"><span class="pre">wrap_func_with_nested_access()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.nested_obj_factory"><code class="docutils literal notranslate"><span class="pre">nested_obj_factory()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedQueryDict"><code class="docutils literal notranslate"><span class="pre">NestedQueryDict</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedQueryDict.__init__"><code class="docutils literal notranslate"><span class="pre">NestedQueryDict.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDatasetDict"><code class="docutils literal notranslate"><span class="pre">NestedDatasetDict</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDatasetDict.__init__"><code class="docutils literal notranslate"><span class="pre">NestedDatasetDict.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDatasetDict.map"><code class="docutils literal notranslate"><span class="pre">NestedDatasetDict.map()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset"><code class="docutils literal notranslate"><span class="pre">NestedDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.__init__"><code class="docutils literal notranslate"><span class="pre">NestedDataset.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.schema"><code class="docutils literal notranslate"><span class="pre">NestedDataset.schema()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.get"><code class="docutils literal notranslate"><span class="pre">NestedDataset.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.get_column"><code class="docutils literal notranslate"><span class="pre">NestedDataset.get_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.process"><code class="docutils literal notranslate"><span class="pre">NestedDataset.process()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.update_args"><code class="docutils literal notranslate"><span class="pre">NestedDataset.update_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.map"><code class="docutils literal notranslate"><span class="pre">NestedDataset.map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.filter"><code class="docutils literal notranslate"><span class="pre">NestedDataset.filter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.select"><code class="docutils literal notranslate"><span class="pre">NestedDataset.select()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.to_list"><code class="docutils literal notranslate"><span class="pre">NestedDataset.to_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.from_dict"><code class="docutils literal notranslate"><span class="pre">NestedDataset.from_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.add_column"><code class="docutils literal notranslate"><span class="pre">NestedDataset.add_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.select_columns"><code class="docutils literal notranslate"><span class="pre">NestedDataset.select_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.remove_columns"><code class="docutils literal notranslate"><span class="pre">NestedDataset.remove_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.cleanup_cache_files"><code class="docutils literal notranslate"><span class="pre">NestedDataset.cleanup_cache_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset.load_from_disk"><code class="docutils literal notranslate"><span class="pre">NestedDataset.load_from_disk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.nested_query"><code class="docutils literal notranslate"><span class="pre">nested_query()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.add_same_content_to_new_column"><code class="docutils literal notranslate"><span class="pre">add_same_content_to_new_column()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#module-data_juicer.core.data.load_strategy">data_juicer.core.data.load_strategy module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.StrategyKey"><code class="docutils literal notranslate"><span class="pre">StrategyKey</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.StrategyKey.executor_type"><code class="docutils literal notranslate"><span class="pre">StrategyKey.executor_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.StrategyKey.data_type"><code class="docutils literal notranslate"><span class="pre">StrategyKey.data_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.StrategyKey.data_source"><code class="docutils literal notranslate"><span class="pre">StrategyKey.data_source</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.StrategyKey.matches"><code class="docutils literal notranslate"><span class="pre">StrategyKey.matches()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.StrategyKey.__init__"><code class="docutils literal notranslate"><span class="pre">StrategyKey.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">DataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DataLoadStrategy.__init__"><code class="docutils literal notranslate"><span class="pre">DataLoadStrategy.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">DataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DataLoadStrategyRegistry"><code class="docutils literal notranslate"><span class="pre">DataLoadStrategyRegistry</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DataLoadStrategyRegistry.get_strategy_class"><code class="docutils literal notranslate"><span class="pre">DataLoadStrategyRegistry.get_strategy_class()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DataLoadStrategyRegistry.register"><code class="docutils literal notranslate"><span class="pre">DataLoadStrategyRegistry.register()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.RayDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">RayDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.RayDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">RayDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">DefaultDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">DefaultDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.RayLocalJsonDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">RayLocalJsonDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.RayLocalJsonDataLoadStrategy.CONFIG_VALIDATION_RULES"><code class="docutils literal notranslate"><span class="pre">RayLocalJsonDataLoadStrategy.CONFIG_VALIDATION_RULES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.RayLocalJsonDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">RayLocalJsonDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.RayHuggingfaceDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">RayHuggingfaceDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.RayHuggingfaceDataLoadStrategy.CONFIG_VALIDATION_RULES"><code class="docutils literal notranslate"><span class="pre">RayHuggingfaceDataLoadStrategy.CONFIG_VALIDATION_RULES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.RayHuggingfaceDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">RayHuggingfaceDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultLocalDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">DefaultLocalDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultLocalDataLoadStrategy.CONFIG_VALIDATION_RULES"><code class="docutils literal notranslate"><span class="pre">DefaultLocalDataLoadStrategy.CONFIG_VALIDATION_RULES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultLocalDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">DefaultLocalDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultHuggingfaceDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">DefaultHuggingfaceDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultHuggingfaceDataLoadStrategy.CONFIG_VALIDATION_RULES"><code class="docutils literal notranslate"><span class="pre">DefaultHuggingfaceDataLoadStrategy.CONFIG_VALIDATION_RULES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultHuggingfaceDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">DefaultHuggingfaceDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultModelScopeDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">DefaultModelScopeDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultModelScopeDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">DefaultModelScopeDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultArxivDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">DefaultArxivDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultArxivDataLoadStrategy.CONFIG_VALIDATION_RULES"><code class="docutils literal notranslate"><span class="pre">DefaultArxivDataLoadStrategy.CONFIG_VALIDATION_RULES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultArxivDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">DefaultArxivDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultWikiDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">DefaultWikiDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultWikiDataLoadStrategy.CONFIG_VALIDATION_RULES"><code class="docutils literal notranslate"><span class="pre">DefaultWikiDataLoadStrategy.CONFIG_VALIDATION_RULES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultWikiDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">DefaultWikiDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultCommonCrawlDataLoadStrategy"><code class="docutils literal notranslate"><span class="pre">DefaultCommonCrawlDataLoadStrategy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultCommonCrawlDataLoadStrategy.CONFIG_VALIDATION_RULES"><code class="docutils literal notranslate"><span class="pre">DefaultCommonCrawlDataLoadStrategy.CONFIG_VALIDATION_RULES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.load_strategy.DefaultCommonCrawlDataLoadStrategy.load_data"><code class="docutils literal notranslate"><span class="pre">DefaultCommonCrawlDataLoadStrategy.load_data()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#module-data_juicer.core.data.ray_dataset">data_juicer.core.data.ray_dataset module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.get_abs_path"><code class="docutils literal notranslate"><span class="pre">get_abs_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.convert_to_absolute_paths"><code class="docutils literal notranslate"><span class="pre">convert_to_absolute_paths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.set_dataset_to_absolute_path"><code class="docutils literal notranslate"><span class="pre">set_dataset_to_absolute_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.preprocess_dataset"><code class="docutils literal notranslate"><span class="pre">preprocess_dataset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.get_num_gpus"><code class="docutils literal notranslate"><span class="pre">get_num_gpus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.filter_batch"><code class="docutils literal notranslate"><span class="pre">filter_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset"><code class="docutils literal notranslate"><span class="pre">RayDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset.__init__"><code class="docutils literal notranslate"><span class="pre">RayDataset.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset.schema"><code class="docutils literal notranslate"><span class="pre">RayDataset.schema()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset.get"><code class="docutils literal notranslate"><span class="pre">RayDataset.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset.get_column"><code class="docutils literal notranslate"><span class="pre">RayDataset.get_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset.process"><code class="docutils literal notranslate"><span class="pre">RayDataset.process()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset.read"><code class="docutils literal notranslate"><span class="pre">RayDataset.read()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset.read_json"><code class="docutils literal notranslate"><span class="pre">RayDataset.read_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.RayDataset.to_list"><code class="docutils literal notranslate"><span class="pre">RayDataset.to_list()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.JSONStreamDatasource"><code class="docutils literal notranslate"><span class="pre">JSONStreamDatasource</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.ray_dataset.read_json_stream"><code class="docutils literal notranslate"><span class="pre">read_json_stream()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#module-data_juicer.core.data.schema">data_juicer.core.data.schema module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema"><code class="docutils literal notranslate"><span class="pre">Schema</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema.column_types"><code class="docutils literal notranslate"><span class="pre">Schema.column_types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema.columns"><code class="docutils literal notranslate"><span class="pre">Schema.columns</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#id0"><code class="docutils literal notranslate"><span class="pre">Schema.column_types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#id1"><code class="docutils literal notranslate"><span class="pre">Schema.columns</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema.from_hf_features"><code class="docutils literal notranslate"><span class="pre">Schema.from_hf_features()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema.from_ray_schema"><code class="docutils literal notranslate"><span class="pre">Schema.from_ray_schema()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema.map_hf_type_to_python"><code class="docutils literal notranslate"><span class="pre">Schema.map_hf_type_to_python()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema.map_ray_type_to_python"><code class="docutils literal notranslate"><span class="pre">Schema.map_ray_type_to_python()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema.__init__"><code class="docutils literal notranslate"><span class="pre">Schema.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.data.html#module-data_juicer.core.data">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.DJDataset"><code class="docutils literal notranslate"><span class="pre">DJDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.DJDataset.process"><code class="docutils literal notranslate"><span class="pre">DJDataset.process()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.DJDataset.schema"><code class="docutils literal notranslate"><span class="pre">DJDataset.schema()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.DJDataset.get"><code class="docutils literal notranslate"><span class="pre">DJDataset.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.DJDataset.get_column"><code class="docutils literal notranslate"><span class="pre">DJDataset.get_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.DJDataset.to_list"><code class="docutils literal notranslate"><span class="pre">DJDataset.to_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.DJDataset.contain_column"><code class="docutils literal notranslate"><span class="pre">DJDataset.contain_column()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset"><code class="docutils literal notranslate"><span class="pre">NestedDataset</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.__init__"><code class="docutils literal notranslate"><span class="pre">NestedDataset.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.schema"><code class="docutils literal notranslate"><span class="pre">NestedDataset.schema()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.get"><code class="docutils literal notranslate"><span class="pre">NestedDataset.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.get_column"><code class="docutils literal notranslate"><span class="pre">NestedDataset.get_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.process"><code class="docutils literal notranslate"><span class="pre">NestedDataset.process()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.update_args"><code class="docutils literal notranslate"><span class="pre">NestedDataset.update_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.map"><code class="docutils literal notranslate"><span class="pre">NestedDataset.map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.filter"><code class="docutils literal notranslate"><span class="pre">NestedDataset.filter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.select"><code class="docutils literal notranslate"><span class="pre">NestedDataset.select()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.to_list"><code class="docutils literal notranslate"><span class="pre">NestedDataset.to_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.from_dict"><code class="docutils literal notranslate"><span class="pre">NestedDataset.from_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.add_column"><code class="docutils literal notranslate"><span class="pre">NestedDataset.add_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.select_columns"><code class="docutils literal notranslate"><span class="pre">NestedDataset.select_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.remove_columns"><code class="docutils literal notranslate"><span class="pre">NestedDataset.remove_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.cleanup_cache_files"><code class="docutils literal notranslate"><span class="pre">NestedDataset.cleanup_cache_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.NestedDataset.load_from_disk"><code class="docutils literal notranslate"><span class="pre">NestedDataset.load_from_disk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.wrap_func_with_nested_access"><code class="docutils literal notranslate"><span class="pre">wrap_func_with_nested_access()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.add_same_content_to_new_column"><code class="docutils literal notranslate"><span class="pre">add_same_content_to_new_column()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_juicer.core.executor.html">data_juicer.core.executor package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.executor.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.executor.html#module-data_juicer.core.executor.base">data_juicer.core.executor.base module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.base.ExecutorBase"><code class="docutils literal notranslate"><span class="pre">ExecutorBase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.base.ExecutorBase.__init__"><code class="docutils literal notranslate"><span class="pre">ExecutorBase.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.base.ExecutorBase.run"><code class="docutils literal notranslate"><span class="pre">ExecutorBase.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.executor.html#module-data_juicer.core.executor.default_executor">data_juicer.core.executor.default_executor module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.default_executor.DefaultExecutor"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.default_executor.DefaultExecutor.__init__"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.default_executor.DefaultExecutor.run"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.default_executor.DefaultExecutor.sample_data"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.sample_data()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.executor.html#module-data_juicer.core.executor.factory">data_juicer.core.executor.factory module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.factory.ExecutorFactory"><code class="docutils literal notranslate"><span class="pre">ExecutorFactory</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.factory.ExecutorFactory.create_executor"><code class="docutils literal notranslate"><span class="pre">ExecutorFactory.create_executor()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.executor.html#module-data_juicer.core.executor.ray_executor">data_juicer.core.executor.ray_executor module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ray_executor.TempDirManager"><code class="docutils literal notranslate"><span class="pre">TempDirManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ray_executor.TempDirManager.__init__"><code class="docutils literal notranslate"><span class="pre">TempDirManager.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ray_executor.RayExecutor"><code class="docutils literal notranslate"><span class="pre">RayExecutor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ray_executor.RayExecutor.__init__"><code class="docutils literal notranslate"><span class="pre">RayExecutor.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ray_executor.RayExecutor.run"><code class="docutils literal notranslate"><span class="pre">RayExecutor.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_juicer.core.executor.html#module-data_juicer.core.executor">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ExecutorBase"><code class="docutils literal notranslate"><span class="pre">ExecutorBase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ExecutorBase.__init__"><code class="docutils literal notranslate"><span class="pre">ExecutorBase.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ExecutorBase.run"><code class="docutils literal notranslate"><span class="pre">ExecutorBase.run()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ExecutorFactory"><code class="docutils literal notranslate"><span class="pre">ExecutorFactory</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ExecutorFactory.create_executor"><code class="docutils literal notranslate"><span class="pre">ExecutorFactory.create_executor()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.DefaultExecutor"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.DefaultExecutor.__init__"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.DefaultExecutor.run"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.DefaultExecutor.sample_data"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.sample_data()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-data_juicer.core.adapter">
<span id="data-juicer-core-adapter-module"></span><h2>data_juicer.core.adapter module<a class="headerlink" href="#module-data_juicer.core.adapter" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.adapter.</span></span><span class="sig-name descname"><span class="pre">Adapter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.MAX_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">MAX_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000</span></em><a class="headerlink" href="#data_juicer.core.adapter.Adapter.MAX_BATCH_SIZE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.execute_and_probe">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execute_and_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.execute_and_probe"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter.execute_and_probe" title="Link to this definition">¶</a></dt>
<dd><p>Process the input dataset and probe related information for each OP in
the specified operator list.</p>
<p>For now, we support the following targets to probe:
&quot;resource&quot;: resource utilization for each OP.
&quot;speed&quot;: average processing speed for each OP.</p>
<p>The probe result is a list and each item in the list is the probe
result for each OP.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.take_batch">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">take_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.take_batch"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter.take_batch" title="Link to this definition">¶</a></dt>
<dd><p>Split the dataset into batches based on configuration and load factor.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- The dataset to be split</p></li>
<li><p><strong>config</strong> -- Configuration settings, including batch size</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>An iterator of batches</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.adapt_workloads">
<span class="sig-name descname"><span class="pre">adapt_workloads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operators</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.adapt_workloads"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter.adapt_workloads" title="Link to this definition">¶</a></dt>
<dd><p>Manage the scheduling and load balancing for the dataset processing.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- The dataset that needs to be processed</p></li>
<li><p><strong>operators</strong> -- Operators in the data recipe</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.probe_small_batch">
<span class="sig-name descname"><span class="pre">probe_small_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operators</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.probe_small_batch"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter.probe_small_batch" title="Link to this definition">¶</a></dt>
<dd><p>Perform small batch pre-execution to probe available resources,
current load and estimated OP speed, returning load factors and speed
ranks for each OP.</p>
<p>Notice: the probe should be run with cache enabled to avoid removing
the cache files of the input dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- The dataset to pre-execute small batch on</p></li>
<li><p><strong>operators</strong> -- The OP list to be pre-execution and probe</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of probe results for each OP and the length of data
batch to probe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.batch_size_strategy">
<span class="sig-name descname"><span class="pre">batch_size_strategy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_analysis_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">util_th</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.batch_size_strategy"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter.batch_size_strategy" title="Link to this definition">¶</a></dt>
<dd><p>Decide the batch size for each op according to their workload analysis
result and expected utilization threshold. We need to guarantee that
the resource utilization won't exceed the threshold. Now we only
consider the buckets effect, which means the max batch size is decided
by the max utilization of all types of resources except GPU util
(decided by num_proc).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.analyze_small_batch">
<span class="sig-name descname"><span class="pre">analyze_small_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.analyze_small_batch"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter.analyze_small_batch" title="Link to this definition">¶</a></dt>
<dd><p>Perform small batch analysis to probe the current OP-wise stats/meta
distributions. The analyzed results will be stored in the directory
<cite>{work_dir}/insight_mining</cite>.</p>
<p>Notice: the probe should be run with cache enabled to avoid removing
the cache files of the input dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- The dataset to analyze small batch on</p></li>
<li><p><strong>current_state</strong> -- A string to indicate the current state of the
input dataset. It usually consists of a number of the index of the
OP processed just now and the OP name, e.g. &quot;1_text_length_filter&quot;.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.adapter.Adapter.insight_mining">
<span class="sig-name descname"><span class="pre">insight_mining</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pval_th</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.insight_mining"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.adapter.Adapter.insight_mining" title="Link to this definition">¶</a></dt>
<dd><p>Mining the insights from the OP-wise analysis results. For now, we use
T-Test to check the significance of stats/meta changes before and after
each OP processing. If the p-value is less than a given threshold
(usually 0.05), we think the stats/meta changes are significant. The
insight mining results will be stored in the file
<cite>{work_dir}/insight_mining/insight_mining.json</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pval_th</strong> -- the threshold of p-value.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-data_juicer.core.analyzer">
<span id="data-juicer-core-analyzer-module"></span><h2>data_juicer.core.analyzer module<a class="headerlink" href="#module-data_juicer.core.analyzer" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.analyzer.Analyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.analyzer.</span></span><span class="sig-name descname"><span class="pre">Analyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/analyzer.html#Analyzer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.analyzer.Analyzer" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This Analyzer class is used to analyze a specific dataset.</p>
<p>It will compute stats for all filter ops in the config file, apply
multiple analysis (e.g. OverallAnalysis, ColumnWiseAnalysis, etc.)
on these stats, and generate the analysis results (stats tables,
distribution figures, etc.) to help users understand the input
dataset better.</p>
<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.analyzer.Analyzer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/analyzer.html#Analyzer.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.analyzer.Analyzer.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialization method.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> -- optional jsonargparse Namespace dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.analyzer.Analyzer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset" title="data_juicer.core.data.dj_dataset.NestedDataset"><span class="pre">NestedDataset</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_data_np</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Gt</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">gt</span></span><span class="o"><span class="pre">=</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_export</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_return</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/analyzer.html#Analyzer.run"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.analyzer.Analyzer.run" title="Link to this definition">¶</a></dt>
<dd><p>Running the dataset analysis pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- a Dataset object to be analyzed.</p></li>
<li><p><strong>load_data_np</strong> -- number of workers when loading the dataset.</p></li>
<li><p><strong>skip_export</strong> -- whether export the results into disk</p></li>
<li><p><strong>skip_return</strong> -- skip return for API called.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>analyzed dataset.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-data_juicer.core.exporter">
<span id="data-juicer-core-exporter-module"></span><h2>data_juicer.core.exporter module<a class="headerlink" href="#module-data_juicer.core.exporter" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.exporter.</span></span><span class="sig-name descname"><span class="pre">Exporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_shard_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_in_parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_stats_in_res_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_hashes_in_res_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.exporter.Exporter" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Exporter class is used to export a dataset to files of specific
format.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.KiB">
<span class="sig-name descname"><span class="pre">KiB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1024</span></em><a class="headerlink" href="#data_juicer.core.exporter.Exporter.KiB" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.MiB">
<span class="sig-name descname"><span class="pre">MiB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1048576</span></em><a class="headerlink" href="#data_juicer.core.exporter.Exporter.MiB" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.GiB">
<span class="sig-name descname"><span class="pre">GiB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1073741824</span></em><a class="headerlink" href="#data_juicer.core.exporter.Exporter.GiB" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.TiB">
<span class="sig-name descname"><span class="pre">TiB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1099511627776</span></em><a class="headerlink" href="#data_juicer.core.exporter.Exporter.TiB" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_shard_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_in_parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_stats_in_res_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_hashes_in_res_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.exporter.Exporter.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialization method.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>export_path</strong> -- the path to export datasets.</p></li>
<li><p><strong>export_shard_size</strong> -- the size of each shard of exported
dataset. In default, it's 0, which means export the dataset
to a single file.</p></li>
<li><p><strong>num_proc</strong> -- number of process to export the dataset.</p></li>
<li><p><strong>export_ds</strong> -- whether to export the dataset contents.</p></li>
<li><p><strong>keep_stats_in_res_ds</strong> -- whether to keep stats in the result
dataset.</p></li>
<li><p><strong>keep_hashes_in_res_ds</strong> -- whether to keep hashes in the result
dataset.</p></li>
<li><p><strong>export_stats</strong> -- whether to export the stats of dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.export"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.exporter.Exporter.export" title="Link to this definition">¶</a></dt>
<dd><p>Export method for a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> -- the dataset to export.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.export_compute_stats">
<span class="sig-name descname"><span class="pre">export_compute_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.export_compute_stats"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.exporter.Exporter.export_compute_stats" title="Link to this definition">¶</a></dt>
<dd><p>Export method for saving compute status in filters</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.to_jsonl">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_jsonl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.to_jsonl"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.exporter.Exporter.to_jsonl" title="Link to this definition">¶</a></dt>
<dd><p>Export method for jsonl target files.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- the dataset to export.</p></li>
<li><p><strong>export_path</strong> -- the path to store the exported dataset.</p></li>
<li><p><strong>num_proc</strong> -- the number of processes used to export the dataset.</p></li>
<li><p><strong>kwargs</strong> -- extra arguments.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.to_json">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.to_json"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.exporter.Exporter.to_json" title="Link to this definition">¶</a></dt>
<dd><p>Export method for json target files.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- the dataset to export.</p></li>
<li><p><strong>export_path</strong> -- the path to store the exported dataset.</p></li>
<li><p><strong>num_proc</strong> -- the number of processes used to export the dataset.</p></li>
<li><p><strong>kwargs</strong> -- extra arguments.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.exporter.Exporter.to_parquet">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.to_parquet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.exporter.Exporter.to_parquet" title="Link to this definition">¶</a></dt>
<dd><p>Export method for parquet target files.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- the dataset to export.</p></li>
<li><p><strong>export_path</strong> -- the path to store the exported dataset.</p></li>
<li><p><strong>kwargs</strong> -- extra arguments.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-data_juicer.core.monitor">
<span id="data-juicer-core-monitor-module"></span><h2>data_juicer.core.monitor module<a class="headerlink" href="#module-data_juicer.core.monitor" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="data_juicer.core.monitor.resource_monitor">
<span class="sig-prename descclassname"><span class="pre">data_juicer.core.monitor.</span></span><span class="sig-name descname"><span class="pre">resource_monitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#resource_monitor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.resource_monitor" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.monitor.</span></span><span class="sig-name descname"><span class="pre">Monitor</span></span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.Monitor" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Monitor resource utilization and other information during the data
processing.</p>
<p>Resource utilization dict: (for each func)
'''python
{</p>
<blockquote>
<div><p>'time': 10,
'sampling interval': 0.5,
'resource': [</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>'timestamp': xxx,
'CPU count': xxx,
'GPU free mem.': xxx.
...</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>'timestamp': xxx,
'CPU count': xxx,
'GPU free mem.': xxx,
...</p>
</div></blockquote>
<p>},</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<section id="id1">
<h3>}<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>Based on the structure above, the resource utilization analysis result will
add several extra fields on the first level:
'''python
{</p>
<blockquote>
<div><p>'time': 10,
'sampling interval': 0.5,
'resource': [...],
'resource_analysis': {</p>
<blockquote>
<div><dl class="simple">
<dt>'GPU free mem.': {</dt><dd><p>'max': xxx,
'min': xxx,
'avg': xxx,</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
<section id="id2">
<h3>}<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>Only those fields in DYNAMIC_FIELDS will be analyzed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor.DYNAMIC_FIELDS">
<span class="sig-name descname"><span class="pre">DYNAMIC_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'Available</span> <span class="pre">mem.',</span> <span class="pre">'CPU</span> <span class="pre">util.',</span> <span class="pre">'Free</span> <span class="pre">mem.',</span> <span class="pre">'GPU</span> <span class="pre">free</span> <span class="pre">mem.',</span> <span class="pre">'GPU</span> <span class="pre">used</span> <span class="pre">mem.',</span> <span class="pre">'GPU</span> <span class="pre">util.',</span> <span class="pre">'Mem.</span> <span class="pre">util.',</span> <span class="pre">'Used</span> <span class="pre">mem.'}</span></em><a class="headerlink" href="#data_juicer.core.monitor.Monitor.DYNAMIC_FIELDS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.Monitor.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor.monitor_all_resources">
<span class="sig-name descname"><span class="pre">monitor_all_resources</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.monitor_all_resources"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.Monitor.monitor_all_resources" title="Link to this definition">¶</a></dt>
<dd><p>Detect the resource utilization of all distributed nodes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor.monitor_current_resources">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">monitor_current_resources</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.monitor_current_resources"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.Monitor.monitor_current_resources" title="Link to this definition">¶</a></dt>
<dd><p>Detect the resource utilization of the current environment/machine.
All data of &quot;util.&quot; is ratios in the range of [0.0, 1.0]. All data of
&quot;mem.&quot; is in MB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor.draw_resource_util_graph">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">draw_resource_util_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_util_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.draw_resource_util_graph"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.Monitor.draw_resource_util_graph" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor.analyze_resource_util_list">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">analyze_resource_util_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_util_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.analyze_resource_util_list"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.Monitor.analyze_resource_util_list" title="Link to this definition">¶</a></dt>
<dd><p>Analyze the resource utilization for a given resource util list.
Compute {'max', 'min', 'avg'} of resource metrics for each dict item.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor.analyze_single_resource_util">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">analyze_single_resource_util</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_util_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.analyze_single_resource_util"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.Monitor.analyze_single_resource_util" title="Link to this definition">¶</a></dt>
<dd><p>Analyze the resource utilization for a single resource util dict.
Compute {'max', 'min', 'avg'} of each resource metrics.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.monitor.Monitor.monitor_func">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">monitor_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.monitor_func"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.monitor.Monitor.monitor_func" title="Link to this definition">¶</a></dt>
<dd><p>Process the input dataset and probe related information for each OP in
the specified operator list.</p>
<p>For now, we support the following targets to probe:
&quot;resource&quot;: resource utilization for each OP.
&quot;speed&quot;: average processing speed for each OP.</p>
<p>The probe result is a list and each item in the list is the probe
result for each OP.</p>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="module-data_juicer.core.tracer">
<span id="data-juicer-core-tracer-module"></span><h2>data_juicer.core.tracer module<a class="headerlink" href="#module-data_juicer.core.tracer" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.tracer.Tracer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.tracer.</span></span><span class="sig-name descname"><span class="pre">Tracer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.tracer.Tracer" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The tracer to trace the sample changes before and after an operator
process.</p>
<p>The comparison results will be stored in the work directory.</p>
<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.tracer.Tracer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.tracer.Tracer.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialization method.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>work_dir</strong> -- the work directory to store the comparison
results</p></li>
<li><p><strong>show_num</strong> -- the maximum number of samples to show in the
comparison result files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.tracer.Tracer.trace_mapper">
<span class="sig-name descname"><span class="pre">trace_mapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processed_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.trace_mapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.tracer.Tracer.trace_mapper" title="Link to this definition">¶</a></dt>
<dd><p>Compare datasets before and after a Mapper.</p>
<p>This will mainly show the different sample pairs due to the
modification by the Mapper</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_name</strong> -- the op name of mapper</p></li>
<li><p><strong>previous_ds</strong> -- dataset before the mapper process</p></li>
<li><p><strong>processed_ds</strong> -- dataset processed by the mapper</p></li>
<li><p><strong>text_key</strong> -- which text_key to trace</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.tracer.Tracer.trace_batch_mapper">
<span class="sig-name descname"><span class="pre">trace_batch_mapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processed_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.trace_batch_mapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.tracer.Tracer.trace_batch_mapper" title="Link to this definition">¶</a></dt>
<dd><p>Compare datasets before and after a BatchMapper.</p>
<p>This will mainly show the new samples augmented by the BatchMapper</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_name</strong> -- the op name of mapper</p></li>
<li><p><strong>previous_ds</strong> -- dataset before the mapper process</p></li>
<li><p><strong>processed_ds</strong> -- dataset processed by the mapper</p></li>
<li><p><strong>text_key</strong> -- which text_key to trace</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.tracer.Tracer.trace_filter">
<span class="sig-name descname"><span class="pre">trace_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processed_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.trace_filter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.tracer.Tracer.trace_filter" title="Link to this definition">¶</a></dt>
<dd><p>Compare datasets before and after a Filter.</p>
<p>This will mainly show the filtered samples by the Filter</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_name</strong> -- the op name of filter</p></li>
<li><p><strong>previous_ds</strong> -- dataset before the filter process</p></li>
<li><p><strong>processed_ds</strong> -- dataset processed by the filter</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.tracer.Tracer.trace_deduplicator">
<span class="sig-name descname"><span class="pre">trace_deduplicator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dup_pairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.trace_deduplicator"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.tracer.Tracer.trace_deduplicator" title="Link to this definition">¶</a></dt>
<dd><p>Compare datasets before and after a Deduplicator.</p>
<p>This will mainly show the near-duplicate sample pairs extracted
by the Deduplicator. Different from the other two trace methods,
the trace process for deduplicator is embedded into the process
method of deduplicator, but the other two trace methods are
independent of the process method of mapper and filter operators</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_name</strong> -- the op name of deduplicator</p></li>
<li><p><strong>dup_pairs</strong> -- duplicate sample pairs obtained from
deduplicator</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-data_juicer.core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-data_juicer.core" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.Adapter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">Adapter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.MAX_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">MAX_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000</span></em><a class="headerlink" href="#data_juicer.core.Adapter.MAX_BATCH_SIZE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.execute_and_probe">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execute_and_probe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.execute_and_probe"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter.execute_and_probe" title="Link to this definition">¶</a></dt>
<dd><p>Process the input dataset and probe related information for each OP in
the specified operator list.</p>
<p>For now, we support the following targets to probe:
&quot;resource&quot;: resource utilization for each OP.
&quot;speed&quot;: average processing speed for each OP.</p>
<p>The probe result is a list and each item in the list is the probe
result for each OP.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.take_batch">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">take_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.take_batch"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter.take_batch" title="Link to this definition">¶</a></dt>
<dd><p>Split the dataset into batches based on configuration and load factor.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- The dataset to be split</p></li>
<li><p><strong>config</strong> -- Configuration settings, including batch size</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>An iterator of batches</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.adapt_workloads">
<span class="sig-name descname"><span class="pre">adapt_workloads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operators</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.adapt_workloads"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter.adapt_workloads" title="Link to this definition">¶</a></dt>
<dd><p>Manage the scheduling and load balancing for the dataset processing.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- The dataset that needs to be processed</p></li>
<li><p><strong>operators</strong> -- Operators in the data recipe</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.probe_small_batch">
<span class="sig-name descname"><span class="pre">probe_small_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operators</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.probe_small_batch"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter.probe_small_batch" title="Link to this definition">¶</a></dt>
<dd><p>Perform small batch pre-execution to probe available resources,
current load and estimated OP speed, returning load factors and speed
ranks for each OP.</p>
<p>Notice: the probe should be run with cache enabled to avoid removing
the cache files of the input dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- The dataset to pre-execute small batch on</p></li>
<li><p><strong>operators</strong> -- The OP list to be pre-execution and probe</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of probe results for each OP and the length of data
batch to probe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.batch_size_strategy">
<span class="sig-name descname"><span class="pre">batch_size_strategy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_analysis_res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">util_th</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.batch_size_strategy"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter.batch_size_strategy" title="Link to this definition">¶</a></dt>
<dd><p>Decide the batch size for each op according to their workload analysis
result and expected utilization threshold. We need to guarantee that
the resource utilization won't exceed the threshold. Now we only
consider the buckets effect, which means the max batch size is decided
by the max utilization of all types of resources except GPU util
(decided by num_proc).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.analyze_small_batch">
<span class="sig-name descname"><span class="pre">analyze_small_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.analyze_small_batch"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter.analyze_small_batch" title="Link to this definition">¶</a></dt>
<dd><p>Perform small batch analysis to probe the current OP-wise stats/meta
distributions. The analyzed results will be stored in the directory
<cite>{work_dir}/insight_mining</cite>.</p>
<p>Notice: the probe should be run with cache enabled to avoid removing
the cache files of the input dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- The dataset to analyze small batch on</p></li>
<li><p><strong>current_state</strong> -- A string to indicate the current state of the
input dataset. It usually consists of a number of the index of the
OP processed just now and the OP name, e.g. &quot;1_text_length_filter&quot;.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Adapter.insight_mining">
<span class="sig-name descname"><span class="pre">insight_mining</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pval_th</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/adapter.html#Adapter.insight_mining"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Adapter.insight_mining" title="Link to this definition">¶</a></dt>
<dd><p>Mining the insights from the OP-wise analysis results. For now, we use
T-Test to check the significance of stats/meta changes before and after
each OP processing. If the p-value is less than a given threshold
(usually 0.05), we think the stats/meta changes are significant. The
insight mining results will be stored in the file
<cite>{work_dir}/insight_mining/insight_mining.json</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pval_th</strong> -- the threshold of p-value.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.Analyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">Analyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/analyzer.html#Analyzer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Analyzer" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This Analyzer class is used to analyze a specific dataset.</p>
<p>It will compute stats for all filter ops in the config file, apply
multiple analysis (e.g. OverallAnalysis, ColumnWiseAnalysis, etc.)
on these stats, and generate the analysis results (stats tables,
distribution figures, etc.) to help users understand the input
dataset better.</p>
<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Analyzer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/analyzer.html#Analyzer.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Analyzer.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialization method.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> -- optional jsonargparse Namespace dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Analyzer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset" title="data_juicer.core.data.dj_dataset.NestedDataset"><span class="pre">NestedDataset</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_data_np</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Gt</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">gt</span></span><span class="o"><span class="pre">=</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_export</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_return</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/analyzer.html#Analyzer.run"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Analyzer.run" title="Link to this definition">¶</a></dt>
<dd><p>Running the dataset analysis pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- a Dataset object to be analyzed.</p></li>
<li><p><strong>load_data_np</strong> -- number of workers when loading the dataset.</p></li>
<li><p><strong>skip_export</strong> -- whether export the results into disk</p></li>
<li><p><strong>skip_return</strong> -- skip return for API called.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>analyzed dataset.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">NestedDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code>, <a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.DJDataset" title="data_juicer.core.data.dj_dataset.DJDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">DJDataset</span></code></a></p>
<p>Enhanced HuggingFace-Dataset for better usability and efficiency.</p>
<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.schema">
<span class="sig-name descname"><span class="pre">schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.schema.Schema" title="data_juicer.core.data.schema.Schema"><span class="pre">Schema</span></a></span></span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.schema"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.schema" title="Link to this definition">¶</a></dt>
<dd><p>Get dataset schema.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.get"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.get" title="Link to this definition">¶</a></dt>
<dd><p>Get k rows from the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.get_column">
<span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.get_column"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.get_column" title="Link to this definition">¶</a></dt>
<dd><p>Get column values from HuggingFace dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> -- Name of the column to retrieve</p></li>
<li><p><strong>k</strong> -- Optional number of rows to return. If None, returns all rows</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>List of values from the specified column</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> -- If column doesn't exist</p></li>
<li><p><strong>ValueError</strong> -- If k is negative</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operators</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">work_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exporter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkpointer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adapter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">open_monitor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.process"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.process" title="Link to this definition">¶</a></dt>
<dd><p>process a list of operators on the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.update_args">
<span class="sig-name descname"><span class="pre">update_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.update_args"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.update_args" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.map">
<span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.map"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.map" title="Link to this definition">¶</a></dt>
<dd><p>Override the map func, which is called by most common operations,
such that the processed samples can be accessed by nested manner.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.filter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.filter" title="Link to this definition">¶</a></dt>
<dd><p>Override the filter func, which is called by most common operations,
such that the processed samples can be accessed by nested manner.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.select"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.select" title="Link to this definition">¶</a></dt>
<dd><p>Override the select func, such that selected samples can be accessed
by nested manner.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.to_list">
<span class="sig-name descname"><span class="pre">to_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.to_list"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.to_list" title="Link to this definition">¶</a></dt>
<dd><p>Returns the dataset as a Python list.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>list</cite></p>
</dd>
</dl>
<p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">`py</span>
<span class="pre">&gt;&gt;&gt;</span> <span class="pre">ds.to_list()</span>
<span class="pre">`</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.from_dict"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.from_dict" title="Link to this definition">¶</a></dt>
<dd><p>Override the from_dict func, which is called by most from_xx
constructors, such that the constructed dataset object is
NestedDataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.add_column">
<span class="sig-name descname"><span class="pre">add_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.add_column"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.add_column" title="Link to this definition">¶</a></dt>
<dd><p>Override the add column func, such that the processed samples
can be accessed by nested manner.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.select_columns">
<span class="sig-name descname"><span class="pre">select_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.select_columns"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.select_columns" title="Link to this definition">¶</a></dt>
<dd><p>Override the select columns func, such that the processed samples
can be accessed by nested manner.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.remove_columns">
<span class="sig-name descname"><span class="pre">remove_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.remove_columns"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.remove_columns" title="Link to this definition">¶</a></dt>
<dd><p>Override the remove columns func, such that the processed samples
can be accessed by nested manner.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.cleanup_cache_files">
<span class="sig-name descname"><span class="pre">cleanup_cache_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.cleanup_cache_files"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.cleanup_cache_files" title="Link to this definition">¶</a></dt>
<dd><p>Override the cleanup_cache_files func, clear raw and compressed
cache files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.NestedDataset.load_from_disk">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/data/dj_dataset.html#NestedDataset.load_from_disk"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.NestedDataset.load_from_disk" title="Link to this definition">¶</a></dt>
<dd><p>Loads a dataset that was previously saved using [<cite>save_to_disk</cite>] from a dataset directory, or from a
filesystem using any implementation of <cite>fsspec.spec.AbstractFileSystem</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_path</strong> (<cite>path-like</cite>) -- Path (e.g. <cite>&quot;dataset/train&quot;</cite>) or remote URI (e.g. <cite>&quot;s3//my-bucket/dataset/train&quot;</cite>)
of the dataset directory where the dataset will be loaded from.</p></li>
<li><p><strong>keep_in_memory</strong> (<cite>bool</cite>, defaults to <cite>None</cite>) -- Whether to copy the dataset in-memory. If <cite>None</cite>, the
dataset will not be copied in-memory unless explicitly enabled by setting
<cite>datasets.config.IN_MEMORY_MAX_SIZE</cite> to nonzero. See more details in the
[improve performance](../cache#improve-performance) section.</p></li>
<li><p><strong>storage_options</strong> (<cite>dict</cite>, <em>optional</em>) -- <p>Key/value pairs to be passed on to the file-system backend, if any.</p>
<p>&lt;Added version=&quot;2.8.0&quot;/&gt;</p>
</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>If <cite>dataset_path</cite> is a path of a dataset directory, the dataset requested.</p></li>
<li><p>If <cite>dataset_path</cite> is a path of a dataset dict directory, a <cite>datasets.DatasetDict</cite> with each split.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<cite>Dataset</cite>] or [<cite>DatasetDict</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">`py</span>
<span class="pre">&gt;&gt;&gt;</span> <span class="pre">ds</span> <span class="pre">=</span> <span class="pre">load_from_disk(&quot;path/to/dataset/directory&quot;)</span>
<span class="pre">`</span></code></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.ExecutorBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">ExecutorBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/executor/base.html#ExecutorBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.ExecutorBase" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.ExecutorBase.__init__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/executor/base.html#ExecutorBase.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.ExecutorBase.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.ExecutorBase.run">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_data_np</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Gt</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">gt</span></span><span class="o"><span class="pre">=</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_return</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/executor/base.html#ExecutorBase.run"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.ExecutorBase.run" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.ExecutorFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">ExecutorFactory</span></span><a class="reference internal" href="_modules/data_juicer/core/executor/factory.html#ExecutorFactory"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.ExecutorFactory" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.ExecutorFactory.create_executor">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_executor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">executor_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.default_executor.DefaultExecutor" title="data_juicer.core.executor.default_executor.DefaultExecutor"><span class="pre">DefaultExecutor</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.ray_executor.RayExecutor" title="data_juicer.core.executor.ray_executor.RayExecutor"><span class="pre">RayExecutor</span></a></span></span><a class="reference internal" href="_modules/data_juicer/core/executor/factory.html#ExecutorFactory.create_executor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.ExecutorFactory.create_executor" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.DefaultExecutor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">DefaultExecutor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/executor/default_executor.html#DefaultExecutor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.DefaultExecutor" title="Link to this definition">¶</a></dt>
<dd><p>基类：<a class="reference internal" href="data_juicer.core.executor.html#data_juicer.core.executor.base.ExecutorBase" title="data_juicer.core.executor.base.ExecutorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExecutorBase</span></code></a></p>
<p>This Executor class is used to process a specific dataset.</p>
<p>It will load the dataset and unify the format, then apply all the
ops in the config file in order and generate a processed dataset.</p>
<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.DefaultExecutor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Namespace</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/executor/default_executor.html#DefaultExecutor.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.DefaultExecutor.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialization method.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> -- optional jsonargparse Namespace.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.DefaultExecutor.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="data_juicer.core.data.html#data_juicer.core.data.dj_dataset.NestedDataset" title="data_juicer.core.data.dj_dataset.NestedDataset"><span class="pre">NestedDataset</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_data_np</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Gt</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">gt</span></span><span class="o"><span class="pre">=</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_return</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/executor/default_executor.html#DefaultExecutor.run"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.DefaultExecutor.run" title="Link to this definition">¶</a></dt>
<dd><p>Running the dataset process pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- a Dataset object to be executed.</p></li>
<li><p><strong>load_data_np</strong> -- number of workers when loading the dataset.</p></li>
<li><p><strong>skip_return</strong> -- skip return for API called.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>processed dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.DefaultExecutor.sample_data">
<span class="sig-name descname"><span class="pre">sample_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_to_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_data_np</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_algo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'uniform'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/executor/default_executor.html#DefaultExecutor.sample_data"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.DefaultExecutor.sample_data" title="Link to this definition">¶</a></dt>
<dd><p>Sample a subset from the given dataset.
TODO add support other than LocalExecutor</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_to_sample</strong> -- Dataset to sample from. If None, will use
the formatter linked by the executor. Default is None.</p></li>
<li><p><strong>load_data_np</strong> -- number of workers when loading the dataset.</p></li>
<li><p><strong>sample_ratio</strong> -- The ratio of the sample size to the original
dataset size. Default is 1.0 (no sampling).</p></li>
<li><p><strong>sample_algo</strong> -- Sampling algorithm to use. Options are &quot;uniform&quot;,
&quot;frequency_specified_field_selector&quot;, or
&quot;topk_specified_field_selector&quot;.
Default is &quot;uniform&quot;.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>A sampled Dataset.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.Exporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">Exporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_shard_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_in_parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_stats_in_res_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_hashes_in_res_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Exporter" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Exporter class is used to export a dataset to files of specific
format.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.KiB">
<span class="sig-name descname"><span class="pre">KiB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1024</span></em><a class="headerlink" href="#data_juicer.core.Exporter.KiB" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.MiB">
<span class="sig-name descname"><span class="pre">MiB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1048576</span></em><a class="headerlink" href="#data_juicer.core.Exporter.MiB" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.GiB">
<span class="sig-name descname"><span class="pre">GiB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1073741824</span></em><a class="headerlink" href="#data_juicer.core.Exporter.GiB" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.TiB">
<span class="sig-name descname"><span class="pre">TiB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1099511627776</span></em><a class="headerlink" href="#data_juicer.core.Exporter.TiB" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_shard_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_in_parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_stats_in_res_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_hashes_in_res_ds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Exporter.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialization method.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>export_path</strong> -- the path to export datasets.</p></li>
<li><p><strong>export_shard_size</strong> -- the size of each shard of exported
dataset. In default, it's 0, which means export the dataset
to a single file.</p></li>
<li><p><strong>num_proc</strong> -- number of process to export the dataset.</p></li>
<li><p><strong>export_ds</strong> -- whether to export the dataset contents.</p></li>
<li><p><strong>keep_stats_in_res_ds</strong> -- whether to keep stats in the result
dataset.</p></li>
<li><p><strong>keep_hashes_in_res_ds</strong> -- whether to keep hashes in the result
dataset.</p></li>
<li><p><strong>export_stats</strong> -- whether to export the stats of dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.export"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Exporter.export" title="Link to this definition">¶</a></dt>
<dd><p>Export method for a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> -- the dataset to export.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.export_compute_stats">
<span class="sig-name descname"><span class="pre">export_compute_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.export_compute_stats"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Exporter.export_compute_stats" title="Link to this definition">¶</a></dt>
<dd><p>Export method for saving compute status in filters</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.to_jsonl">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_jsonl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.to_jsonl"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Exporter.to_jsonl" title="Link to this definition">¶</a></dt>
<dd><p>Export method for jsonl target files.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- the dataset to export.</p></li>
<li><p><strong>export_path</strong> -- the path to store the exported dataset.</p></li>
<li><p><strong>num_proc</strong> -- the number of processes used to export the dataset.</p></li>
<li><p><strong>kwargs</strong> -- extra arguments.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.to_json">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_proc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.to_json"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Exporter.to_json" title="Link to this definition">¶</a></dt>
<dd><p>Export method for json target files.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- the dataset to export.</p></li>
<li><p><strong>export_path</strong> -- the path to store the exported dataset.</p></li>
<li><p><strong>num_proc</strong> -- the number of processes used to export the dataset.</p></li>
<li><p><strong>kwargs</strong> -- extra arguments.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Exporter.to_parquet">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/exporter.html#Exporter.to_parquet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Exporter.to_parquet" title="Link to this definition">¶</a></dt>
<dd><p>Export method for parquet target files.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> -- the dataset to export.</p></li>
<li><p><strong>export_path</strong> -- the path to store the exported dataset.</p></li>
<li><p><strong>kwargs</strong> -- extra arguments.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.Monitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">Monitor</span></span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Monitor" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Monitor resource utilization and other information during the data
processing.</p>
<p>Resource utilization dict: (for each func)
'''python
{</p>
<blockquote>
<div><p>'time': 10,
'sampling interval': 0.5,
'resource': [</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>'timestamp': xxx,
'CPU count': xxx,
'GPU free mem.': xxx.
...</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>'timestamp': xxx,
'CPU count': xxx,
'GPU free mem.': xxx,
...</p>
</div></blockquote>
<p>},</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<section id="id3">
<h3>}<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>Based on the structure above, the resource utilization analysis result will
add several extra fields on the first level:
'''python
{</p>
<blockquote>
<div><p>'time': 10,
'sampling interval': 0.5,
'resource': [...],
'resource_analysis': {</p>
<blockquote>
<div><dl class="simple">
<dt>'GPU free mem.': {</dt><dd><p>'max': xxx,
'min': xxx,
'avg': xxx,</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
<section id="id4">
<h3>}<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>Only those fields in DYNAMIC_FIELDS will be analyzed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="data_juicer.core.Monitor.DYNAMIC_FIELDS">
<span class="sig-name descname"><span class="pre">DYNAMIC_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'Available</span> <span class="pre">mem.',</span> <span class="pre">'CPU</span> <span class="pre">util.',</span> <span class="pre">'Free</span> <span class="pre">mem.',</span> <span class="pre">'GPU</span> <span class="pre">free</span> <span class="pre">mem.',</span> <span class="pre">'GPU</span> <span class="pre">used</span> <span class="pre">mem.',</span> <span class="pre">'GPU</span> <span class="pre">util.',</span> <span class="pre">'Mem.</span> <span class="pre">util.',</span> <span class="pre">'Used</span> <span class="pre">mem.'}</span></em><a class="headerlink" href="#data_juicer.core.Monitor.DYNAMIC_FIELDS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Monitor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Monitor.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Monitor.monitor_all_resources">
<span class="sig-name descname"><span class="pre">monitor_all_resources</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.monitor_all_resources"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Monitor.monitor_all_resources" title="Link to this definition">¶</a></dt>
<dd><p>Detect the resource utilization of all distributed nodes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Monitor.monitor_current_resources">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">monitor_current_resources</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.monitor_current_resources"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Monitor.monitor_current_resources" title="Link to this definition">¶</a></dt>
<dd><p>Detect the resource utilization of the current environment/machine.
All data of &quot;util.&quot; is ratios in the range of [0.0, 1.0]. All data of
&quot;mem.&quot; is in MB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Monitor.draw_resource_util_graph">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">draw_resource_util_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_util_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.draw_resource_util_graph"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Monitor.draw_resource_util_graph" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Monitor.analyze_resource_util_list">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">analyze_resource_util_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_util_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.analyze_resource_util_list"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Monitor.analyze_resource_util_list" title="Link to this definition">¶</a></dt>
<dd><p>Analyze the resource utilization for a given resource util list.
Compute {'max', 'min', 'avg'} of resource metrics for each dict item.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Monitor.analyze_single_resource_util">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">analyze_single_resource_util</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_util_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.analyze_single_resource_util"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Monitor.analyze_single_resource_util" title="Link to this definition">¶</a></dt>
<dd><p>Analyze the resource utilization for a single resource util dict.
Compute {'max', 'min', 'avg'} of each resource metrics.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Monitor.monitor_func">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">monitor_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/monitor.html#Monitor.monitor_func"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Monitor.monitor_func" title="Link to this definition">¶</a></dt>
<dd><p>Process the input dataset and probe related information for each OP in
the specified operator list.</p>
<p>For now, we support the following targets to probe:
&quot;resource&quot;: resource utilization for each OP.
&quot;speed&quot;: average processing speed for each OP.</p>
<p>The probe result is a list and each item in the list is the probe
result for each OP.</p>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_juicer.core.Tracer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_juicer.core.</span></span><span class="sig-name descname"><span class="pre">Tracer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Tracer" title="Link to this definition">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The tracer to trace the sample changes before and after an operator
process.</p>
<p>The comparison results will be stored in the work directory.</p>
<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Tracer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Tracer.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialization method.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>work_dir</strong> -- the work directory to store the comparison
results</p></li>
<li><p><strong>show_num</strong> -- the maximum number of samples to show in the
comparison result files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Tracer.trace_mapper">
<span class="sig-name descname"><span class="pre">trace_mapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processed_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.trace_mapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Tracer.trace_mapper" title="Link to this definition">¶</a></dt>
<dd><p>Compare datasets before and after a Mapper.</p>
<p>This will mainly show the different sample pairs due to the
modification by the Mapper</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_name</strong> -- the op name of mapper</p></li>
<li><p><strong>previous_ds</strong> -- dataset before the mapper process</p></li>
<li><p><strong>processed_ds</strong> -- dataset processed by the mapper</p></li>
<li><p><strong>text_key</strong> -- which text_key to trace</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Tracer.trace_batch_mapper">
<span class="sig-name descname"><span class="pre">trace_batch_mapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processed_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.trace_batch_mapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Tracer.trace_batch_mapper" title="Link to this definition">¶</a></dt>
<dd><p>Compare datasets before and after a BatchMapper.</p>
<p>This will mainly show the new samples augmented by the BatchMapper</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_name</strong> -- the op name of mapper</p></li>
<li><p><strong>previous_ds</strong> -- dataset before the mapper process</p></li>
<li><p><strong>processed_ds</strong> -- dataset processed by the mapper</p></li>
<li><p><strong>text_key</strong> -- which text_key to trace</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Tracer.trace_filter">
<span class="sig-name descname"><span class="pre">trace_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processed_ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.trace_filter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Tracer.trace_filter" title="Link to this definition">¶</a></dt>
<dd><p>Compare datasets before and after a Filter.</p>
<p>This will mainly show the filtered samples by the Filter</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_name</strong> -- the op name of filter</p></li>
<li><p><strong>previous_ds</strong> -- dataset before the filter process</p></li>
<li><p><strong>processed_ds</strong> -- dataset processed by the filter</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_juicer.core.Tracer.trace_deduplicator">
<span class="sig-name descname"><span class="pre">trace_deduplicator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dup_pairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_juicer/core/tracer.html#Tracer.trace_deduplicator"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#data_juicer.core.Tracer.trace_deduplicator" title="Link to this definition">¶</a></dt>
<dd><p>Compare datasets before and after a Deduplicator.</p>
<p>This will mainly show the near-duplicate sample pairs extracted
by the Deduplicator. Different from the other two trace methods,
the trace process for deduplicator is embedded into the process
method of deduplicator, but the other two trace methods are
independent of the process method of mapper and filter operators</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_name</strong> -- the op name of deduplicator</p></li>
<li><p><strong>dup_pairs</strong> -- duplicate sample pairs obtained from
deduplicator</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="data_juicer.core.data.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">data_juicer.core.data package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="api.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">API Reference</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Data-Juicer Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">data_juicer.core package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-data_juicer.core.adapter">data_juicer.core.adapter module</a><ul>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter"><code class="docutils literal notranslate"><span class="pre">Adapter</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.MAX_BATCH_SIZE"><code class="docutils literal notranslate"><span class="pre">Adapter.MAX_BATCH_SIZE</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.__init__"><code class="docutils literal notranslate"><span class="pre">Adapter.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.execute_and_probe"><code class="docutils literal notranslate"><span class="pre">Adapter.execute_and_probe()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.take_batch"><code class="docutils literal notranslate"><span class="pre">Adapter.take_batch()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.adapt_workloads"><code class="docutils literal notranslate"><span class="pre">Adapter.adapt_workloads()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.probe_small_batch"><code class="docutils literal notranslate"><span class="pre">Adapter.probe_small_batch()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.batch_size_strategy"><code class="docutils literal notranslate"><span class="pre">Adapter.batch_size_strategy()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.analyze_small_batch"><code class="docutils literal notranslate"><span class="pre">Adapter.analyze_small_batch()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.adapter.Adapter.insight_mining"><code class="docutils literal notranslate"><span class="pre">Adapter.insight_mining()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-data_juicer.core.analyzer">data_juicer.core.analyzer module</a><ul>
<li><a class="reference internal" href="#data_juicer.core.analyzer.Analyzer"><code class="docutils literal notranslate"><span class="pre">Analyzer</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.analyzer.Analyzer.__init__"><code class="docutils literal notranslate"><span class="pre">Analyzer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.analyzer.Analyzer.run"><code class="docutils literal notranslate"><span class="pre">Analyzer.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-data_juicer.core.exporter">data_juicer.core.exporter module</a><ul>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter"><code class="docutils literal notranslate"><span class="pre">Exporter</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.KiB"><code class="docutils literal notranslate"><span class="pre">Exporter.KiB</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.MiB"><code class="docutils literal notranslate"><span class="pre">Exporter.MiB</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.GiB"><code class="docutils literal notranslate"><span class="pre">Exporter.GiB</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.TiB"><code class="docutils literal notranslate"><span class="pre">Exporter.TiB</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.__init__"><code class="docutils literal notranslate"><span class="pre">Exporter.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.export"><code class="docutils literal notranslate"><span class="pre">Exporter.export()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.export_compute_stats"><code class="docutils literal notranslate"><span class="pre">Exporter.export_compute_stats()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.to_jsonl"><code class="docutils literal notranslate"><span class="pre">Exporter.to_jsonl()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.to_json"><code class="docutils literal notranslate"><span class="pre">Exporter.to_json()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.exporter.Exporter.to_parquet"><code class="docutils literal notranslate"><span class="pre">Exporter.to_parquet()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-data_juicer.core.monitor">data_juicer.core.monitor module</a><ul>
<li><a class="reference internal" href="#data_juicer.core.monitor.resource_monitor"><code class="docutils literal notranslate"><span class="pre">resource_monitor()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor"><code class="docutils literal notranslate"><span class="pre">Monitor</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor.DYNAMIC_FIELDS"><code class="docutils literal notranslate"><span class="pre">Monitor.DYNAMIC_FIELDS</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor.__init__"><code class="docutils literal notranslate"><span class="pre">Monitor.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor.monitor_all_resources"><code class="docutils literal notranslate"><span class="pre">Monitor.monitor_all_resources()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor.monitor_current_resources"><code class="docutils literal notranslate"><span class="pre">Monitor.monitor_current_resources()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor.draw_resource_util_graph"><code class="docutils literal notranslate"><span class="pre">Monitor.draw_resource_util_graph()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor.analyze_resource_util_list"><code class="docutils literal notranslate"><span class="pre">Monitor.analyze_resource_util_list()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor.analyze_single_resource_util"><code class="docutils literal notranslate"><span class="pre">Monitor.analyze_single_resource_util()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.monitor.Monitor.monitor_func"><code class="docutils literal notranslate"><span class="pre">Monitor.monitor_func()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-data_juicer.core.tracer">data_juicer.core.tracer module</a><ul>
<li><a class="reference internal" href="#data_juicer.core.tracer.Tracer"><code class="docutils literal notranslate"><span class="pre">Tracer</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.tracer.Tracer.__init__"><code class="docutils literal notranslate"><span class="pre">Tracer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.tracer.Tracer.trace_mapper"><code class="docutils literal notranslate"><span class="pre">Tracer.trace_mapper()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.tracer.Tracer.trace_batch_mapper"><code class="docutils literal notranslate"><span class="pre">Tracer.trace_batch_mapper()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.tracer.Tracer.trace_filter"><code class="docutils literal notranslate"><span class="pre">Tracer.trace_filter()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.tracer.Tracer.trace_deduplicator"><code class="docutils literal notranslate"><span class="pre">Tracer.trace_deduplicator()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-data_juicer.core">Module contents</a><ul>
<li><a class="reference internal" href="#data_juicer.core.Adapter"><code class="docutils literal notranslate"><span class="pre">Adapter</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.Adapter.MAX_BATCH_SIZE"><code class="docutils literal notranslate"><span class="pre">Adapter.MAX_BATCH_SIZE</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Adapter.__init__"><code class="docutils literal notranslate"><span class="pre">Adapter.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Adapter.execute_and_probe"><code class="docutils literal notranslate"><span class="pre">Adapter.execute_and_probe()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Adapter.take_batch"><code class="docutils literal notranslate"><span class="pre">Adapter.take_batch()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Adapter.adapt_workloads"><code class="docutils literal notranslate"><span class="pre">Adapter.adapt_workloads()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Adapter.probe_small_batch"><code class="docutils literal notranslate"><span class="pre">Adapter.probe_small_batch()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Adapter.batch_size_strategy"><code class="docutils literal notranslate"><span class="pre">Adapter.batch_size_strategy()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Adapter.analyze_small_batch"><code class="docutils literal notranslate"><span class="pre">Adapter.analyze_small_batch()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Adapter.insight_mining"><code class="docutils literal notranslate"><span class="pre">Adapter.insight_mining()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data_juicer.core.Analyzer"><code class="docutils literal notranslate"><span class="pre">Analyzer</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.Analyzer.__init__"><code class="docutils literal notranslate"><span class="pre">Analyzer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Analyzer.run"><code class="docutils literal notranslate"><span class="pre">Analyzer.run()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset"><code class="docutils literal notranslate"><span class="pre">NestedDataset</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.__init__"><code class="docutils literal notranslate"><span class="pre">NestedDataset.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.schema"><code class="docutils literal notranslate"><span class="pre">NestedDataset.schema()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.get"><code class="docutils literal notranslate"><span class="pre">NestedDataset.get()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.get_column"><code class="docutils literal notranslate"><span class="pre">NestedDataset.get_column()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.process"><code class="docutils literal notranslate"><span class="pre">NestedDataset.process()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.update_args"><code class="docutils literal notranslate"><span class="pre">NestedDataset.update_args()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.map"><code class="docutils literal notranslate"><span class="pre">NestedDataset.map()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.filter"><code class="docutils literal notranslate"><span class="pre">NestedDataset.filter()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.select"><code class="docutils literal notranslate"><span class="pre">NestedDataset.select()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.to_list"><code class="docutils literal notranslate"><span class="pre">NestedDataset.to_list()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.from_dict"><code class="docutils literal notranslate"><span class="pre">NestedDataset.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.add_column"><code class="docutils literal notranslate"><span class="pre">NestedDataset.add_column()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.select_columns"><code class="docutils literal notranslate"><span class="pre">NestedDataset.select_columns()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.remove_columns"><code class="docutils literal notranslate"><span class="pre">NestedDataset.remove_columns()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.cleanup_cache_files"><code class="docutils literal notranslate"><span class="pre">NestedDataset.cleanup_cache_files()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.NestedDataset.load_from_disk"><code class="docutils literal notranslate"><span class="pre">NestedDataset.load_from_disk()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data_juicer.core.ExecutorBase"><code class="docutils literal notranslate"><span class="pre">ExecutorBase</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.ExecutorBase.__init__"><code class="docutils literal notranslate"><span class="pre">ExecutorBase.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.ExecutorBase.run"><code class="docutils literal notranslate"><span class="pre">ExecutorBase.run()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data_juicer.core.ExecutorFactory"><code class="docutils literal notranslate"><span class="pre">ExecutorFactory</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.ExecutorFactory.create_executor"><code class="docutils literal notranslate"><span class="pre">ExecutorFactory.create_executor()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data_juicer.core.DefaultExecutor"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.DefaultExecutor.__init__"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.DefaultExecutor.run"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.run()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.DefaultExecutor.sample_data"><code class="docutils literal notranslate"><span class="pre">DefaultExecutor.sample_data()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data_juicer.core.Exporter"><code class="docutils literal notranslate"><span class="pre">Exporter</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.Exporter.KiB"><code class="docutils literal notranslate"><span class="pre">Exporter.KiB</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.MiB"><code class="docutils literal notranslate"><span class="pre">Exporter.MiB</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.GiB"><code class="docutils literal notranslate"><span class="pre">Exporter.GiB</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.TiB"><code class="docutils literal notranslate"><span class="pre">Exporter.TiB</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.__init__"><code class="docutils literal notranslate"><span class="pre">Exporter.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.export"><code class="docutils literal notranslate"><span class="pre">Exporter.export()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.export_compute_stats"><code class="docutils literal notranslate"><span class="pre">Exporter.export_compute_stats()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.to_jsonl"><code class="docutils literal notranslate"><span class="pre">Exporter.to_jsonl()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.to_json"><code class="docutils literal notranslate"><span class="pre">Exporter.to_json()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Exporter.to_parquet"><code class="docutils literal notranslate"><span class="pre">Exporter.to_parquet()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data_juicer.core.Monitor"><code class="docutils literal notranslate"><span class="pre">Monitor</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.Monitor.DYNAMIC_FIELDS"><code class="docutils literal notranslate"><span class="pre">Monitor.DYNAMIC_FIELDS</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Monitor.__init__"><code class="docutils literal notranslate"><span class="pre">Monitor.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Monitor.monitor_all_resources"><code class="docutils literal notranslate"><span class="pre">Monitor.monitor_all_resources()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Monitor.monitor_current_resources"><code class="docutils literal notranslate"><span class="pre">Monitor.monitor_current_resources()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Monitor.draw_resource_util_graph"><code class="docutils literal notranslate"><span class="pre">Monitor.draw_resource_util_graph()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Monitor.analyze_resource_util_list"><code class="docutils literal notranslate"><span class="pre">Monitor.analyze_resource_util_list()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Monitor.analyze_single_resource_util"><code class="docutils literal notranslate"><span class="pre">Monitor.analyze_single_resource_util()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Monitor.monitor_func"><code class="docutils literal notranslate"><span class="pre">Monitor.monitor_func()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data_juicer.core.Tracer"><code class="docutils literal notranslate"><span class="pre">Tracer</span></code></a><ul>
<li><a class="reference internal" href="#data_juicer.core.Tracer.__init__"><code class="docutils literal notranslate"><span class="pre">Tracer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Tracer.trace_mapper"><code class="docutils literal notranslate"><span class="pre">Tracer.trace_mapper()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Tracer.trace_batch_mapper"><code class="docutils literal notranslate"><span class="pre">Tracer.trace_batch_mapper()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Tracer.trace_filter"><code class="docutils literal notranslate"><span class="pre">Tracer.trace_filter()</span></code></a></li>
<li><a class="reference internal" href="#data_juicer.core.Tracer.trace_deduplicator"><code class="docutils literal notranslate"><span class="pre">Tracer.trace_deduplicator()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div>
<script src="_static/documentation_options.js?v=2491dde2"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/translations.js?v=beaddf03"></script>
    </body>
</html>