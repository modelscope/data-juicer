# sentence_augmentation_mapper

Augments sentences by generating enhanced versions using a Hugging Face model. This operator enhances input sentences by generating new, augmented versions. It is designed to work best with individual sentences rather than full documents. For optimal results, ensure the input text is at the sentence level. The augmentation process uses a Hugging Face model, such as `lmsys/vicuna-13b-v1.5` or `Qwen/Qwen2-7B-Instruct`. The operator requires specifying both the primary and secondary text keys, where the augmented sentence will be stored in the secondary key. The generation process can be customized with parameters like temperature, top-p sampling, and beam search size.

ä½¿ç”¨ Hugging Face æ¨¡å‹ç”Ÿæˆå¢å¼ºç‰ˆæœ¬çš„å¥å­ä»¥è¿›è¡Œæ•°æ®å¢å¼ºã€‚è¯¥ç®—å­é€šè¿‡ç”Ÿæˆæ–°çš„å¢å¼ºç‰ˆæœ¬æ¥å¢å¼ºè¾“å…¥å¥å­ã€‚å®ƒè®¾è®¡ä¸ºæœ€é€‚åˆå¤„ç†å•ä¸ªå¥å­è€Œä¸æ˜¯æ•´ä¸ªæ–‡æ¡£ã€‚ä¸ºäº†è·å¾—æœ€ä½³ç»“æœï¼Œè¯·ç¡®ä¿è¾“å…¥æ–‡æœ¬å¤„äºå¥å­çº§åˆ«ã€‚å¢å¼ºè¿‡ç¨‹ä½¿ç”¨ Hugging Face æ¨¡å‹ï¼Œå¦‚ `lmsys/vicuna-13b-v1.5` æˆ– `Qwen/Qwen2-7B-Instruct`ã€‚ç®—å­è¦æ±‚æŒ‡å®šä¸»æ¬¡æ–‡æœ¬é”®ï¼Œå…¶ä¸­å¢å¼ºåçš„å¥å­å°†å­˜å‚¨åœ¨æ¬¡çº§é”®ä¸­ã€‚ç”Ÿæˆè¿‡ç¨‹å¯ä»¥é€šè¿‡æ¸©åº¦ã€top-p é‡‡æ ·å’ŒæŸæœç´¢å¤§å°ç­‰å‚æ•°è¿›è¡Œè‡ªå®šä¹‰ã€‚

Type ç®—å­ç±»å‹: **mapper**

Tags æ ‡ç­¾: cpu, hf, text

## ğŸ”§ Parameter Configuration å‚æ•°é…ç½®
| name å‚æ•°å | type ç±»å‹ | default é»˜è®¤å€¼ | desc è¯´æ˜ |
|--------|------|--------|------|
| `hf_model` | <class 'str'> | `'Qwen/Qwen2-7B-Instruct'` | Huggingface model id. |
| `system_prompt` | <class 'str'> | `None` | System prompt. |
| `task_sentence` | <class 'str'> | `None` | The instruction for the current task. |
| `max_new_tokens` |  | `256` | the maximum number of new tokens generated by the model. |
| `temperature` |  | `0.2` | used to control the randomness of generated text. The higher the temperature, the more random and creative the generated text will be. |
| `top_p` |  | `None` | randomly select the next word from the group of words whose cumulative probability reaches p. |
| `num_beams` |  | `1` | the larger the beam search size, the higher the quality of the generated text. |
| `text_key` |  | `None` | the key name used to store the first sentence in the text pair. (optional, defalut='text') |
| `text_key_second` |  | `None` | the key name used to store the second sentence in the text pair. |
| `args` |  | `''` | extra args |
| `kwargs` |  | `''` | extra args |

## ğŸ“Š Effect demonstration æ•ˆæœæ¼”ç¤º
not available æš‚æ— 

## ğŸ”— related links ç›¸å…³é“¾æ¥
- [source code æºä»£ç ](../../../data_juicer/ops/mapper/sentence_augmentation_mapper.py)
- [unit test å•å…ƒæµ‹è¯•](../../../tests/ops/mapper/test_sentence_augmentation_mapper.py)
- [Return operator list è¿”å›ç®—å­åˆ—è¡¨](../../Operators.md)