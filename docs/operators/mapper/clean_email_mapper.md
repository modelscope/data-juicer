# clean_email_mapper

Cleans email addresses from text samples using a regular expression.

This operator removes or replaces email addresses in the text based on a regular
expression pattern. By default, it uses a standard pattern to match email addresses, but
a custom pattern can be provided. The matched email addresses are replaced with a
specified replacement string, which defaults to an empty string. The operation is
applied to each text sample in the batch. If no email address is found in a sample, it
remains unchanged.

Type ç®—å­ç±»å‹: **mapper**

Tags æ ‡ç­¾: cpu, text

## ğŸ”§ Parameter Configuration å‚æ•°é…ç½®
| name å‚æ•°å | type ç±»å‹ | default é»˜è®¤å€¼ | desc è¯´æ˜ |
|--------|------|--------|------|
| `pattern` | typing.Optional[str] | `None` | regular expression pattern to search for within text. |
| `repl` | <class 'str'> | `''` | replacement string, default is empty string. |
| `args` |  | `''` | extra args |
| `kwargs` |  | `''` | extra args |

## ğŸ“Š Effect demonstration æ•ˆæœæ¼”ç¤º
### test_clean_email
```python
CleanEmailMapper()
```

#### ğŸ“¥ input data è¾“å…¥æ•°æ®
<div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 1:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">happy day euqdh@cjqi.com</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 2:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">è¯·é—®ä½ æ˜¯è°dasoidhao@1264fg.45om</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 3:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">ftp://examplema-niÃ¨rdash@hqbchd.ckdhnfes.cds</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 4:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">ğŸ‘Š23da44sh12@46hqb12chd.ckdhnfes.comd.dasd.asd.dc</pre></div>

#### ğŸ“¤ output data è¾“å‡ºæ•°æ®
<div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 1:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">happy day </pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 2:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">è¯·é—®ä½ æ˜¯è°dasoidhao@1264fg.45om</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 3:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">ftp://examplema-niÃ¨</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 4:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">ğŸ‘Š</pre></div>

#### âœ¨ explanation è§£é‡Š
This example shows how the operator removes email addresses from text. In the first sample, 'euqdh@cjqi.com' is removed, leaving only 'happy day '. The second sample does not contain a valid email, so it remains unchanged. In the third and fourth samples, the emails are also removed, with the third sample stopping at 'ftp://examplema-niÃ¨' and the fourth sample being reduced to just the emoji 'ğŸ‘Š'.
è¿™ä¸ªä¾‹å­å±•ç¤ºäº†ç®—å­å¦‚ä½•ä»æ–‡æœ¬ä¸­ç§»é™¤ç”µå­é‚®ä»¶åœ°å€ã€‚åœ¨ç¬¬ä¸€ä¸ªæ ·æœ¬ä¸­ï¼Œ'euqdh@cjqi.com' è¢«ç§»é™¤ï¼Œåªç•™ä¸‹äº† 'happy day 'ã€‚ç¬¬äºŒä¸ªæ ·æœ¬ä¸åŒ…å«æœ‰æ•ˆçš„ç”µå­é‚®ä»¶ï¼Œå› æ­¤ä¿æŒä¸å˜ã€‚ç¬¬ä¸‰å’Œç¬¬å››ä¸ªæ ·æœ¬ä¸­çš„ç”µå­é‚®ä»¶ä¹Ÿè¢«ç§»é™¤ï¼Œç¬¬ä¸‰ä¸ªæ ·æœ¬è¢«æˆªæ–­ä¸º 'ftp://examplema-niÃ¨'ï¼Œç¬¬å››ä¸ªæ ·æœ¬åªå‰©ä¸‹è¡¨æƒ…ç¬¦å· 'ğŸ‘Š'ã€‚

### test_replace_email
```python
CleanEmailMapper(repl='<EMAIL>')
```

#### ğŸ“¥ input data è¾“å…¥æ•°æ®
<div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 1:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">happy day euqdh@cjqi.com</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 2:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">è¯·é—®ä½ æ˜¯è°dasoidhao@1264fg.45om</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 3:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">ftp://examplema-niÃ¨rdash@hqbchd.ckdhnfes.cds</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 4:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">ğŸ‘Š23da44sh12@46hqb12chd.ckdhnfes.comd.dasd.asd.dc</pre></div>

#### ğŸ“¤ output data è¾“å‡ºæ•°æ®
<div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 1:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">happy day &lt;EMAIL&gt;</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 2:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">è¯·é—®ä½ æ˜¯è°dasoidhao@1264fg.45om</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 3:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">ftp://examplema-niÃ¨&lt;EMAIL&gt;</pre></div><div class="sample-card" style="border:1px solid #ddd; padding:12px; margin:8px 0; border-radius:6px; background:#fafafa; box-shadow:0 1px 3px rgba(0,0,0,0.1);"><div class="sample-header" style="background:#f8f9fa; padding:4px 8px; margin-bottom:6px; border-radius:3px; font-size:0.9em; color:#666; border-left:3px solid #007acc;"><strong>Sample 4:</strong> text</div><pre style="padding:6px; background:#f6f8fa; border-radius:4px; overflow-x:auto; white-space:pre; word-wrap:normal;">ğŸ‘Š&lt;EMAIL&gt;</pre></div>

#### âœ¨ explanation è§£é‡Š
This example demonstrates replacing email addresses in the text with a specific string '<EMAIL>'. In the first sample, 'euqdh@cjqi.com' is replaced by '<EMAIL>', resulting in 'happy day <EMAIL>'. The second sample does not have a valid email address, so it stays the same. For the third and fourth samples, their respective email addresses are replaced with '<EMAIL>', changing the texts to 'ftp://examplema-niÃ¨<EMAIL>' and 'ğŸ‘Š<EMAIL>', respectively.
è¿™ä¸ªä¾‹å­å±•ç¤ºäº†ç”¨ç‰¹å®šå­—ç¬¦ä¸² '<EMAIL>' æ›¿æ¢æ–‡æœ¬ä¸­çš„ç”µå­é‚®ä»¶åœ°å€ã€‚åœ¨ç¬¬ä¸€ä¸ªæ ·æœ¬ä¸­ï¼Œ'euqdh@cjqi.com' è¢«æ›¿æ¢ä¸º '<EMAIL>'ï¼Œç»“æœå˜ä¸º 'happy day <EMAIL>'ã€‚ç¬¬äºŒä¸ªæ ·æœ¬æ²¡æœ‰æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€ï¼Œå› æ­¤ä¿æŒä¸å˜ã€‚å¯¹äºç¬¬ä¸‰å’Œç¬¬å››ä¸ªæ ·æœ¬ï¼Œå®ƒä»¬å„è‡ªçš„ç”µå­é‚®ä»¶åœ°å€è¢«æ›¿æ¢ä¸º '<EMAIL>'ï¼Œåˆ†åˆ«å°†æ–‡æœ¬æ›´æ”¹ä¸º 'ftp://examplema-niÃ¨<EMAIL>' å’Œ 'ğŸ‘Š<EMAIL>'ã€‚


## ğŸ”— related links ç›¸å…³é“¾æ¥
- [source code æºä»£ç ](../../../data_juicer/ops/mapper/clean_email_mapper.py)
- [unit test å•å…ƒæµ‹è¯•](../../../tests/ops/mapper/test_clean_email_mapper.py)
- [Return operator list è¿”å›ç®—å­åˆ—è¡¨](../../Operators.md)